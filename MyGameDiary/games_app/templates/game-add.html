{% extends 'base.html' %}
{% load bootstrap5 %}

{% block content %}
    {% if user_has_rights %}
        <div class="d-flex justify-content-center w-100 bg-dark mt-1 rounded text-white">
            {% if not games %}
             <form class="p-4 d-flex text-white flex-column justify-content-center align-items-center" action="." method="POST"> {% csrf_token %}
                 <div class="text-white">
                     <label for="search_game">{{ form.name.label }}</label>
                     {{ form.name }}
                 </div>    
                 <div> 
                     <small id="nameHelpText" class="form-text text-white">
                        {{ form.name.help_text }}
                     </small>
                 </div>
                 <div class="d-flex w-100 justify-content-end mt-3 pe-5">
                     <input class="btn btn-primary rounded me-3" type="submit" value="Search">
                     <a class="btn btn-warning rounded" href="{% url 'games_app:game_list' %}">Cancel</a>
                 </div>   
             </form>
            {% else %}
            <h5>Pick a game to save:</h5>
            <form action="/games/game-add/{{ game_title }}" method="POST"> {% csrf_token %}
                {% for game in games %}
                <input type="radio" id="{{ game.id }}" name="game_to_save" value="{{ game.id }},{{ game.name }}">
                <label for="{{ game.id }}">{{ game.id }} - {{ game.name }}</label><br>
                {% endfor %}
                <input type="submit" value="Save this game!">
            </form>
            {% endif %}
        </div>
    {% else %}
        {% include 'snippets/access-denied.html' %}
    {% endif %}
{% endblock %}